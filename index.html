<!DOCTYPE html>
<html>
<head>
	<title>Markov chain</title>
	 <meta charset="UTF-8">
	<link rel="stylesheet" type="text/css" href="css/font-awesome.css">
	<link rel="stylesheet" type="text/css" href="css/style.css">
</head>
<body>
<div class="container">
	<div class="space">
		<div class="trajectory trajectory1">
			<div class="c c1"></div>
		</div>
	</div>
	<div class="space">
		<div class="trajectory trajectory2">
			<div class="c c2"></div>
		</div> 
	</div>
	<div class="space">
		<div class="trajectory trajectory3">
			<div class="c c3"></div>
		</div>
	</div>
</div>

<div class="form">
	<label for="q1">Q<sub>1</sub></label>
	<input type="number" name="q1" id="q1" min="0.1" max="0.9" step="0.1" value="0.25">
	<label for="q1">Q<sub>2</sub></label>
	<input type="number" name="q2" id="q2" min="0.1" max="0.9" step="0.1" value="0.5">
	<label for="q1">T<sub>1</sub></label>
	<input type="number" name="v1" id="v1" min="0" max="9.0" value="3">
	<label for="q1">T<sub>2</sub></label>
	<input type="number" name="v2" id="v2" min="0" max="9.0" value="1">
	<input type="button" value="Submit" onclick="submitFunction()">
</div>

<script>

var T1, T2;

function submitFunction(){
	var q1 = document.getElementById('q1');
	var q2 = document.getElementById('q2');
	var v1 = document.getElementById('v1');
	var v2 = document.getElementById('v2');
	T1 = v1.value;
	T2 = v2.value;
	setInterval(myFunction, 2000);
}

var trajectory1 = document.getElementsByClassName("trajectory1")[0];
var trajectory2 = document.getElementsByClassName("trajectory2")[0];
var trajectory3 = document.getElementsByClassName("trajectory3")[0];

var c1 = document.getElementsByClassName("c1")[0];
var c2 = document.getElementsByClassName("c2")[0];
var c3 = document.getElementsByClassName("c3")[0];

var i = 1;

function myFunction() {
	rotate1 = i * 90;
	rotate2 = i * 90;
	rotate3 = i * 90;

	switch(i%4) {
    case 1:
        speed1 = T1;
		speed2 = T1;
		speed3 = T2;
		c1.style.backgroundColor = "red";
		c2.style.backgroundColor = "red";
		c3.style.backgroundColor = "blue";
        break;
    case 2:
        speed1 = T2;
		speed2 = T1;
		speed3 = T1;
		c1.style.backgroundColor = "red";
		c2.style.backgroundColor = "blue";
		c3.style.backgroundColor = "blue";
        break;
     case 3:
     	speed1 = T2;
		speed2 = T2;
		speed3 = T1;
		c1.style.backgroundColor = "blue";
		c2.style.backgroundColor = "blue";
		c3.style.backgroundColor = "red";
     	break;
    default:
        speed1 = T2;
		speed2 = T1;
		speed3 = T1;
		c1.style.backgroundColor = "blue";
		c2.style.backgroundColor = "red";
		c3.style.backgroundColor = "red";
	}

	console.log("c1="+speed1);
	console.log("c2="+speed2);
	console.log("c3="+speed3);
	console.log("----------");

	trajectory1.style.WebkitTransform = 'rotate('+rotate1+'deg)';
	trajectory1.style.transform = 'rotate('+rotate1+'deg)';

	trajectory2.style.WebkitTransform = 'rotate('+rotate2+'deg)';
	trajectory2.style.transform = 'rotate('+rotate2+'deg)';

	trajectory3.style.WebkitTransform = 'rotate('+rotate3+'deg)';
	trajectory3.style.transform = 'rotate('+rotate3+'deg)';

	trajectory1.style.WebkitTransitionDuration = speed1 + 's';
	trajectory1.style.transitionDuration = speed1 + 's';

	trajectory2.style.WebkitTransitionDuration = speed2 + 's';
	trajectory2.style.transitionDuration = speed2 + 's';

	trajectory3.style.WebkitTransitionDuration = speed3 + 's';
	trajectory3.style.transitionDuration = speed3 + 's';

	i++;
}

function stop() {

}

</script>
</body>
</html>