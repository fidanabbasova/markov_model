<!DOCTYPE html>
<html>
<head>
	<title>Markov chain</title>
	 <meta charset="UTF-8">
	<link rel="stylesheet" type="text/css" href="css/font-awesome.css">
	<link rel="stylesheet" type="text/css" href="css/style.css">
</head>
<body>
<div class="container">
	<div class="space">
		<div class="trajectory trajectory1">
			<div class="c c1"></div>
		</div>
	</div>
	<div class="space">
		<div class="trajectory trajectory2">
			<div class="c c2"></div>
		</div> 
	</div>
	<div class="space">
		<div class="trajectory trajectory3">
			<div class="c c3"></div>
		</div>
	</div>
	<div class="space">
		<div class="trajectory trajectory4">
			<div class="c c4"></div>
		</div>
	</div>
	<div class="space">
		<div class="trajectory trajectory5">
			<div class="c c5"></div>
		</div>
	</div>
</div>

<div class="form">
	<label for="q1">Q<sub>1</sub></label>
	<input type="number" name="q1" id="q1" min="0.1" max="0.9" step="0.1" value="0.125">
	<label for="q1">Q<sub>2</sub></label>
	<input type="number" name="q2" id="q2" min="0.1" max="0.9" step="0.1" value="0.5">
	<label for="q1">T<sub>1</sub></label>
	<input type="number" name="v1" id="v1" min="0" max="9.0" value="2">
	<label for="q1">T<sub>2</sub></label>
	<input type="number" name="v2" id="v2" min="0" max="9.0" value="1">
	<input type="button" value="Submit" onclick="submitFunction()">
</div>

<script>

function submitFunction(){
	var q1 = document.getElementById('q1');
	var q2 = document.getElementById('q2');
	var v1 = document.getElementById('v1');
	var v2 = document.getElementById('v2');
	T1 = v1.value;
	T2 = v2.value;
	setInterval(myFunction, 1000);
}


var trajectory1 = document.getElementsByClassName("trajectory1")[0];
var trajectory2 = document.getElementsByClassName("trajectory2")[0];
var trajectory3 = document.getElementsByClassName("trajectory3")[0];
var trajectory4 = document.getElementsByClassName("trajectory4")[0];
var trajectory5 = document.getElementsByClassName("trajectory5")[0];

var c1 = document.getElementsByClassName("c1")[0];
var c2 = document.getElementsByClassName("c2")[0];
var c3 = document.getElementsByClassName("c3")[0];
var c4 = document.getElementsByClassName("c4")[0];
var c5 = document.getElementsByClassName("c5")[0];

var i = 1;

function myFunction() {
	rotate1 = i * 45;
	rotate2 = i * 45;
	rotate3 = i * 45;
	rotate4 = i * 45;
	rotate5 = i * 45;

	switch (i%8) {
    case 1:
    	s1 = T1;
		s2 = T1;
		s3 = T1;
		s4 = T1;
		s5 = T2;
		c1.style.backgroundColor = "red";
		c2.style.backgroundColor = "red";
		c3.style.backgroundColor = "red";
		c4.style.backgroundColor = "red";
		c5.style.backgroundColor = "blue";
		break;
    case 2:
    	s1 = T1;
		s2 = T1;
		s3 = T1;
		s4 = T2;
		s5 = T2;
		c1.style.backgroundColor = "red";
		c2.style.backgroundColor = "red";
		c3.style.backgroundColor = "red";
		c4.style.backgroundColor = "blue";
		c5.style.backgroundColor = "blue";
        break;
    case 3:
    	s1 = T1;
		s2 = T1;
		s3 = 1;
		s4 = 1;
		s5 = 1;
		c1.style.backgroundColor = "red";
		c2.style.backgroundColor = "red";
		c3.style.backgroundColor = "blue";
		c4.style.backgroundColor = "blue";
		c5.style.backgroundColor = "blue";
    	break;
    case 4:
    	s1 = T1;
		s2 = T2;
		s3 = T2;
		s4 = T2;
		s5 = T2;
		c1.style.backgroundColor = "red";
		c2.style.backgroundColor = "blue";
		c3.style.backgroundColor = "blue";
		c4.style.backgroundColor = "blue";
		c5.style.backgroundColor = "blue";
    	break;
    case 5:
    	s1 = T2;
		s2 = T2;
		s3 = T2;
		s4 = T2;
		s5 = T1;
		c1.style.backgroundColor = "blue";
		c2.style.backgroundColor = "blue";
		c3.style.backgroundColor = "blue";
		c4.style.backgroundColor = "blue";
		c5.style.backgroundColor = "red";
    	break;
    case 6:
    	s1 = T2;
		s2 = T2;
		s3 = T2;
		s4 = T1;
		s5 = T1;
		c1.style.backgroundColor = "blue";
		c2.style.backgroundColor = "blue";
		c3.style.backgroundColor = "blue";
		c4.style.backgroundColor = "red";
		c5.style.backgroundColor = "red";
    	break;
    case 7:
    	s1 = T2;
		s2 = T2;
		s3 = T1;
		s4 = T1;
		s5 = T1;
		c1.style.backgroundColor = "blue";
		c2.style.backgroundColor = "blue";
		c3.style.backgroundColor = "red";
		c4.style.backgroundColor = "red";
		c5.style.backgroundColor = "red";
        break;
    default:
        s1 = T2;
		s2 = T1;
		s3 = T1;
		s4 = T1;
		s5 = T1;
		c1.style.backgroundColor = "blue";
		c2.style.backgroundColor = "red";
		c3.style.backgroundColor = "red";
		c4.style.backgroundColor = "red";
		c5.style.backgroundColor = "red";
	}
	console.log("c1="+s1);
	console.log("c2="+s2);
	console.log("c3="+s3);
	console.log("c4="+s4);
	console.log("c5="+s5);
	console.log("----------");

	trajectory1.style.WebkitTransform = 'rotate('+rotate1+'deg)';
	trajectory1.style.transform = 'rotate('+rotate1+'deg)';

	trajectory2.style.WebkitTransform = 'rotate('+rotate2+'deg)';
	trajectory2.style.transform = 'rotate('+rotate2+'deg)';

	trajectory3.style.WebkitTransform = 'rotate('+rotate3+'deg)';
	trajectory3.style.transform = 'rotate('+rotate3+'deg)';

	trajectory4.style.WebkitTransform = 'rotate('+rotate4+'deg)';
	trajectory4.style.transform = 'rotate('+rotate4+'deg)';

	trajectory5.style.WebkitTransform = 'rotate('+rotate5+'deg)';
	trajectory5.style.transform = 'rotate('+rotate5+'deg)';

	trajectory1.style.WebkitTransitionDuration = s1 + 's';
	trajectory1.style.transitionDuration = s1 + 's';

	trajectory2.style.WebkitTransitionDuration = s2 + 's';
	trajectory2.style.transitionDuration = s2 + 's';

	trajectory3.style.WebkitTransitionDuration = s3 + 's';
	trajectory3.style.transitionDuration = s3 + 's';

	trajectory4.style.WebkitTransitionDuration = s4 + 's';
	trajectory4.style.transitionDuration = s4 + 's';

	trajectory5.style.WebkitTransitionDuration = s5 + 's';
	trajectory5.style.transitionDuration = s5 + 's';

	i++;
}

</script>
</body>
</html>